[gd_scene load_steps=7 format=3 uid="uid://bnnewq2qr1kb0"]

[ext_resource type="Script" path="res://Components/Hurtbox_Component.gd" id="1_0h55c"]
[ext_resource type="Script" path="res://Enemies/Enemy.gd" id="1_7iiy7"]
[ext_resource type="Resource" uid="uid://cske6tb2qc2kd" path="res://Stats/StatsResource.tres" id="2_flnjj"]
[ext_resource type="Resource" uid="uid://dpisqnloqqnvt" path="res://Upgrades/RES_Additive_Damage.tres" id="3_a0y6m"]
[ext_resource type="Resource" uid="uid://0wiiebrnr8a4" path="res://Weapons/Projectiles/RES_Fireball.tres" id="4_moubx"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_aepv6"]

[node name="Enemy" type="Node2D"]
script = ExtResource("1_7iiy7")
stats = ExtResource("2_flnjj")
upgrades = ExtResource("3_a0y6m")
ability = ExtResource("4_moubx")

[node name="Shoot Ability" type="Timer" parent="."]
wait_time = 2.0
autostart = true

[node name="HurtboxComponent" type="Area2D" parent="." node_paths=PackedStringArray("collision_shape", "invincibility_timer")]
collision_layer = 16
collision_mask = 0
script = ExtResource("1_0h55c")
collision_shape = NodePath("CollisionShape2D")
invincibility_timer = NodePath("InvincibilityTimer")

[node name="CollisionShape2D" type="CollisionShape2D" parent="HurtboxComponent"]
shape = SubResource("RectangleShape2D_aepv6")
debug_color = Color(0.968328, 0, 0.468572, 0.42)

[node name="InvincibilityTimer" type="Timer" parent="HurtboxComponent"]

[connection signal="timeout" from="Shoot Ability" to="." method="_on_shoot_ability_timeout"]
[connection signal="invincible_end" from="HurtboxComponent" to="HurtboxComponent" method="_on_invincible_end"]
[connection signal="invincible_start" from="HurtboxComponent" to="HurtboxComponent" method="_on_invincible_start"]
